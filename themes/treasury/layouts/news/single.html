{{ define "main" }}
<div class="breadcrumbs">
  <div class="container">
    <nav aria-label="Breadcrumb">
      <ol class="breadcrumbs-list">
        <li><a href="https://home.treasury.gov/">HOME</a></li>
        <li><a href="/news/">NEWS</a></li>
        {{ with .CurrentSection }}
        <li><a href="{{ .Permalink }}">{{ .Title | upper }}</a></li>
        {{ end }}
        <li aria-current="page">{{ $.Title | truncate 50 }}</li>
      </ol>
    </nav>
  </div>
</div>

<div class="news-page-section">
  <div class="container">
    <div class="news-article-layout">
      {{/* Left Sidebar */}}
      {{ partial "news-sidebar.html" . }}
      
      {{/* Main Content */}}
      <div class="news-main-content" role="region" aria-label="Article content">
        <article class="news-article">
          <header class="news-article-header">
            {{/* Show category - use section title as fallback */}}
            {{ $category := .Params.category | default .CurrentSection.Title }}
            <span class="news-category"><a href="{{ .CurrentSection.Permalink }}">{{ $category | upper }}</a></span>
            <h1>{{ .Title }}</h1>
            {{/* Publication date and time - required for government press releases */}}
            <p class="article-date">
              <time datetime="{{ .Date.Format "2006-01-02T15:04:05-05:00" }}">{{ .Date.Format "January 2, 2006" }} at {{ .Date.Format "3:04 PM" }} EST</time>
            </p>
            <div class="heading-underline"></div>
          </header>
          
          <div class="news-article-body">
            {{ .Content }}
          </div>
          
          {{ with .Params.related }}
          <aside class="related-content">
            <h3>Related Content</h3>
            <ul>
              {{ range . }}
              <li><a href="{{ .url }}">{{ .title }}</a></li>
              {{ end }}
            </ul>
          </aside>
          {{ end }}
        </article>
      </div>
      
      {{/* Right Sidebar - Article Metadata */}}
      {{ partial "article-sidebar.html" . }}
    </div>
  </div>
</div>

<style>
/* Article Layout - 3 columns for single articles */
.news-article-layout {
  display: grid;
  grid-template-columns: 200px 1fr 280px;
  gap: 1.5rem;
}

@media (max-width: 1024px) {
  .news-article-layout {
    grid-template-columns: 180px 1fr;
  }
  
  .news-article-layout .article-sidebar {
    grid-column: 1 / -1;
  }
}

@media (max-width: 768px) {
  .news-article-layout {
    grid-template-columns: 1fr;
  }
}
</style>
{{ end }}
